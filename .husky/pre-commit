#!/usr/bin/env sh

# Pre-commit: lint and typecheck across the workspace
# Runs even if some packages don’t define typecheck (uses --if-present)

set -e

echo "########################################"
echo "→ Running lints..."
echo "########################################"
pnpm lint

echo "########################################"
echo "→ Running typechecks..."
echo "########################################"
pnpm typecheck

echo "########################################"
echo "→ Running unit tests..."
echo "########################################"
pnpm test:unit

echo "########################################"
echo "→ Running smoke tests..."
echo "########################################"
pnpm test:smoke
