# Codex CLI MCP configuration (example)
# Place as `config.toml` in your Codex CLI config directory (or pass via --config).

[agent]
name = "codex"

# Each [[mcp.servers]] block defines one MCP server the CLI should start or connect to.

[[mcp.servers]]
name = "chrome_devtools"
command = "npx"
args = ["-y", "chrome-devtools-mcp@latest"]

[[mcp.servers]]
name = "playwright"
command = "npx"
args = ["@playwright/mcp@latest", "--extension"]

[[mcp.servers]]
name = "eslint"
command = "npx"
args = ["@eslint/mcp@latest"]

[[mcp.servers]]
name = "nuxt"
command = "npx"
args = ["mcp-remote", "https://mcp.nuxt.com/sse"]

[[mcp.servers]]
name = "github"
command = "npx"
args = ["mcp-remote", "https://api.githubcopilot.com/mcp/"]

[[mcp.servers]]
name = "upstash_context7"
command = "npx"
args = ["mcp-remote", "https://mcp.context7.com/mcp"]
# Environment variables can be interpolated; set CONTEXT7_API_KEY in your shell/CI.
env = { Authorization = "Bearer ${CONTEXT7_API_KEY}" }

[[mcp.servers]]
name = "vitest"
command = "npx"
args = ["-y", "@madrus/vitest-mcp-server@latest"]

# Optional: pass common environment for analytics/integration tests
[env]
# Staging and Dub config
STAGING_BASE_URL = "${STAGING_BASE_URL}"
DUB_TEST_LINK = "${DUB_TEST_LINK}"

# Stripe (tests use test keys)
STRIPE_SECRET_KEY_TEST = "${STRIPE_SECRET_KEY_TEST}"
STRIPE_WEBHOOK_SECRET_TEST = "${STRIPE_WEBHOOK_SECRET_TEST}"
STRIPE_TEST_PRICE_ID = "${STRIPE_TEST_PRICE_ID}"

# Dub publishable key (client-side)
NEXT_PUBLIC_DUB_PUBLISHABLE_KEY = "${NEXT_PUBLIC_DUB_PUBLISHABLE_KEY}"

